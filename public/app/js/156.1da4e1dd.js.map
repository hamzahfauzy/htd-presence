{"version":3,"file":"js/156.1da4e1dd.js","mappings":"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","sources":["webpack://sakai-vue/./src/pages/Login.vue","webpack://sakai-vue/./src/service/AuthService.js","webpack://sakai-vue/./src/pages/Login.vue?619c"],"sourcesContent":["<template>\n    <div class=\"surface-0 flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden\">\n        <div class=\"grid justify-content-center p-2 lg:p-0\" style=\"min-width:80%\">\n            <div class=\"col-12 xl:col-6\" style=\"border-radius:56px; padding:0.3rem; background: linear-gradient(180deg, var(--primary-color), rgba(33, 150, 243, 0) 30%);\">\n                <div class=\"h-full w-full m-0 py-7 px-4\" style=\"border-radius:53px; background: linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0));\">\n                    <div class=\"text-center mb-5\">\n                        <img :src=\"app_logo\" alt=\"Image\" class=\"mb-3\" style=\"width:80%\">\n                        <div class=\"text-900 text-3xl font-medium mb-3\">Selamat Datang!</div>\n                        <span class=\"text-600 font-medium\">Silahkan masuk untuk melanjutkan</span>\n                    </div>\n                \n                    <div class=\"w-full md:w-10 mx-auto\">\n                        <form action=\"\" method=\"post\" @submit.prevent=\"doLogin()\">\n                            <label for=\"email1\" class=\"block text-900 text-xl font-medium mb-2\">Username</label>\n                            <InputText id=\"email1\" v-model=\"email\" type=\"text\" class=\"w-full mb-3\" placeholder=\"Email\" style=\"padding:1rem;\" />\n                    \n                            <label for=\"password1\" class=\"block text-900 font-medium text-xl mb-2\">Kata Sandi</label>\n                            <Password id=\"password1\" v-model=\"password\" placeholder=\"Password\" :toggleMask=\"true\" class=\"w-full mb-3\" inputClass=\"w-full\" inputStyle=\"padding:1rem\" :feedback=\"false\"></Password>\n                    \n                            <!-- <div class=\"flex align-items-center justify-content-between mb-5\">\n                                <div class=\"flex align-items-center\">\n                                    <Checkbox id=\"rememberme1\" v-model=\"checked\" :binary=\"true\" class=\"mr-2\"></Checkbox>\n                                    <label for=\"rememberme1\">Ingat Saya</label>\n                                </div>\n                                <a class=\"font-medium no-underline ml-2 text-right cursor-pointer\" style=\"color: var(--primary-color)\">Lupa Password?</a>\n                            </div> -->\n                            <Button type=\"submit\" :label=\"sign_in_label\" :disabled=\"disabled\" class=\"w-full p-3 text-xl\" @click=\"doLogin()\"></button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport AuthService from '../service/AuthService'\nexport default {\n    data() {\n        return {\n            email: '',\n            password: '',\n            sign_in_label:'Masuk',\n            disabled:false,\n            API_URL : process.env.VUE_APP_API_URL,\n            app_logo : process.env.VUE_APP_LOGO_URL,\n            checked: false\n        }\n    },\n    AuthService:null,\n    created(){\n        this.AuthService = new AuthService()\n    },\n    methods:{\n        doLogin(){\n            this.sign_in_label = 'Silahkan tunggu...'\n            this.disabled = true\n            this.AuthService.login({\n                email:this.email, \n                password:this.password\n            }).then(res => {\n                if(!res.success)\n                {\n                    this.$swal({\n                        icon: 'error',\n                        title: 'Oops...',\n                        text: res.message,\n                    })\n                    this.sign_in_label = 'Masuk'\n                    this.disabled = false\n                }\n                else\n                {\n                    localStorage.setItem('presence_app_token',res.data.token)\n                    localStorage.setItem('presence_app_role',res.data.user.role)\n                    localStorage.setItem('presence_user_data',JSON.stringify(res.data.user))\n                    this.sign_in_label = 'Login berhasil'\n                    this.$router.push({name:'dashboard'});\n                }\n            })\n        }\n    },\n    computed: {\n        logoColor() {\n            if (this.$appState.darkTheme) return 'white';\n            return 'dark';\n        }\n    }\n}\n</script>\n\n<style scoped>\n.pi-eye {\n    transform:scale(1.6);\n    margin-right: 1rem;\n}\n\n.pi-eye-slash {\n    transform:scale(1.6);\n    margin-right: 1rem;\n}\n</style>","export default class AuthService {\n\n\tasync validate() {\n        // const queryParams = params ? Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&') : '';\n        \n\t\tvar req = await fetch(process.env.VUE_APP_API_URL+'user',{\n            headers:{\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\n            }\n        })\n\n        return req.status\n    }\n\n    login(data){\n        return fetch(process.env.VUE_APP_API_URL+'auth/login',{\n            method:'POST',\n            headers:{\n                'Content-Type':'application/json'\n            },\n            body:JSON.stringify(data)\n        })\n        .then(res => res.json())\n    }\n\t\n}","import { render } from \"./Login.vue?vue&type=template&id=2f9cd070&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=2f9cd070&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f9cd070\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","src","$data","app_logo","alt","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","action","method","onSubmit","_cache","_withModifiers","$event","$options","doLogin","_hoisted_10","_createVNode","_component_InputText","id","modelValue","email","type","placeholder","_hoisted_11","_component_Password","password","toggleMask","inputClass","inputStyle","feedback","_component_Button","label","sign_in_label","disabled","onClick","AuthService","validate","req","fetch","process","headers","localStorage","getItem","status","login","data","body","JSON","stringify","then","res","json","API_URL","checked","created","this","methods","success","setItem","token","user","role","$router","push","name","$swal","icon","title","text","message","computed","logoColor","$appState","darkTheme","__exports__","render"],"sourceRoot":""}