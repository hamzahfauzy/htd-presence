(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3b2af10"],{"06d6":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));class a{getEmployees(e,t=!1){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";o+="&order_by="+a,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value)}var r=JSON.parse(localStorage.getItem("presence_user_data"));return r.workunit_id&&(o+="&workunit_id="+r.workunit_id),t&&(o+="&workunit_id="+t),fetch("http://103.151.71.42/api/employees?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}getEmployeesReport(e,t){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";o+="&order_by="+a,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("http://103.151.71.42/api/employees/reports/"+t+"?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}getEmployeesReportDetail(e,t){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";o+="&order_by="+a,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("http://103.151.71.42/api/employees/report-details/"+t+"?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}getEmployeesReportPdfLink(e,t){var o="";if(e){var a=1==e.sortOrder?"asc":"desc";o+="&order_by="+a,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"http://103.151.71.42/api/employees/report-pdf/"+t+"?"+o}getEmployeesReportDetailPdfLink(e,t){var o="";if(e){var a=1==e.sortOrder?"asc":"desc";o+="&order_by="+a,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"http://103.151.71.42/api/employees/report-detail-pdf/"+t+"?"+o}getEmployee(e){return fetch("http://103.151.71.42/api/employees/"+e,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}getPresence(e,t){return fetch("http://103.151.71.42/api/employees/"+e+"/presences/"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}updateEmployee(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({lat:e.lat,lng:e.lng,radius:e.radius})}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}updateRole(e,t){var o={...e};return o.role=t,fetch("http://103.151.71.42/api/users/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(o)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}addPlace(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}deletePlace(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({place_id:t.id})}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}patchPlace(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}patchAndroid(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/android-user",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}resetDevice(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/reset-device",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}addWorktime(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/worktime",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}deleteWorktime(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/worktime",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({worktime_id:t.id})}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}actionPresence(e,t){return fetch("http://103.151.71.42/api/employees/"+t.employee_id+"/presences/"+t.id,{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({status:e})}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}insertPresence(e,t){return fetch("http://103.151.71.42/api/employees/"+e+"/presences",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")},body:t}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}}},7467:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));class a{getWorktimes(e){var t="page="+(e.page+1)+"&per_page="+e.rows,o=1==e.sortOrder?"asc":"desc";return t+="&order_by="+o,null!=e.sortField&&(t+="&sort_by="+e.sortField),e.filters.global.value&&(t+="&keyword="+e.filters.global.value),fetch("http://103.151.71.42/api/worktimes?"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}getAllWorktimes(){return fetch("http://103.151.71.42/api/worktimes?response=array",{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then(e=>401==e.status?{data:{redirectTo:"login"}}:e.json()).then(e=>e.data)}createWorktime(e){return fetch("http://103.151.71.42/api/worktimes",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}updateWorktime(e){return fetch("http://103.151.71.42/api/worktimes/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}deleteWorktime(e){return fetch("http://103.151.71.42/api/worktimes/"+e.id,{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>401==e.status?{redirectTo:"Login"}:e.json())}}},ae80:function(e,t,o){"use strict";o.r(t);var a=o("7a23");const r={class:"grid"},i={class:"col-12"},l={class:"card"},s=Object(a["j"])("div",{class:"font-medium text-3xl text-900 mb-3"},"Detail Pegawai",-1),n={class:"list-none p-0 m-0"},c={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},d=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"NIP",-1),p={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},m={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},u=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Nama",-1),h={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},b={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},g=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Golongan",-1),j={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},y={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},_=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Jabatan",-1),k={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},f={class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},O=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Instansi",-1),v={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},w={key:0,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},S=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Bebas Lokasi",-1),x={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},T={class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},W=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Pengguna Android",-1),D={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},I={key:1,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},C=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Device",-1),L={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},z={class:"field"},B=Object(a["j"])("label",{for:"name"},"Role Name",-1),P={key:0,class:"p-invalid"};function F(e,t,o,F,U,$){var J,N,E;const H=Object(a["H"])("Dropdown"),R=Object(a["H"])("Button"),A=Object(a["H"])("Dialog"),V=Object(a["H"])("DetailWorktime");return Object(a["z"])(),Object(a["i"])("div",r,[Object(a["j"])("div",i,[Object(a["j"])("div",l,[s,Object(a["j"])("ul",n,[Object(a["j"])("li",c,[d,Object(a["j"])("div",p,Object(a["L"])(U.employee.nip),1)]),Object(a["j"])("li",m,[u,Object(a["j"])("div",h,Object(a["L"])(U.employee.name),1)]),Object(a["j"])("li",b,[g,Object(a["j"])("div",j,Object(a["L"])(U.employee.group),1)]),Object(a["j"])("li",y,[_,Object(a["j"])("div",k,Object(a["L"])(U.employee.position),1)]),Object(a["j"])("li",f,[O,Object(a["j"])("div",v,Object(a["L"])(U.employee.workunit?U.employee.workunit.name:""),1)]),"superuser"==U.role?(Object(a["z"])(),Object(a["i"])("li",w,[S,Object(a["j"])("div",x,[Object(a["l"])(Object(a["L"])(U.employee.is_free_place?"Ya":"Tidak")+" "+Object(a["L"])("adminsistem"!=U.role?"-":"")+" ",1),Object(a["j"])("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=e=>$.patchPlace())},"Update")])])):Object(a["h"])("",!0),Object(a["j"])("li",T,[W,Object(a["j"])("div",D,[Object(a["l"])(Object(a["L"])(U.employee.is_android_user?"Ya":"Tidak")+" "+Object(a["L"])("adminsistem"!=U.role?"-":"")+" ",1),Object(a["j"])("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=e=>$.patchAndroid())},"Update")])]),"adminsistem"==U.role||"adminkepegawaian"==U.role||"superuser"==U.role?(Object(a["z"])(),Object(a["i"])("li",I,[C,Object(a["j"])("div",L,[Object(a["l"])(Object(a["L"])(null!==(J=null===(N=U.employee.user)||void 0===N?void 0:N.device_number)&&void 0!==J?J:"-")+" ",1),null!==(E=U.employee.user)&&void 0!==E&&E.device_number?(Object(a["z"])(),Object(a["i"])("a",{key:0,href:"javascript:void(0)",onClick:t[2]||(t[2]=e=>$.resetDevice())},"- Reset Device")):Object(a["h"])("",!0)])])):Object(a["h"])("",!0)])])]),Object(a["m"])(A,{visible:U.roleDialog,"onUpdate:visible":t[4]||(t[4]=e=>U.roleDialog=e),style:{width:"450px"},header:"Edit System Role",modal:!0,class:"p-fluid"},{footer:Object(a["S"])(()=>[Object(a["m"])(R,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:$.hideRoleDialog},null,8,["onClick"]),Object(a["m"])(R,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:$.saveRole},null,8,["onClick"])]),default:Object(a["S"])(()=>[Object(a["j"])("div",z,[B,Object(a["m"])(H,{modelValue:U.user_role,"onUpdate:modelValue":t[3]||(t[3]=e=>U.user_role=e),options:U.roleLists,optionLabel:"name",optionValue:"value",placeholder:"Pilih Role",class:Object(a["t"])({"p-invalid":U.submitted&&!U.user_role})},null,8,["modelValue","options","class"]),U.submitted&&!U.user_role?(Object(a["z"])(),Object(a["i"])("small",P,"Role name diperlukan.")):Object(a["h"])("",!0)])]),_:1},8,["visible"]),0!=Object.keys(U.employee).length?(Object(a["z"])(),Object(a["g"])(V,{key:0,employee:U.employee,employeeService:e.employeeService},null,8,["employee","employeeService"])):Object(a["h"])("",!0)])}o("14d9");var U=o("06d6");const $={class:"col-12"},J={class:"card"},N={class:"my-2"},E=Object(a["j"])("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[Object(a["j"])("h5",{class:"m-0"},"Detail Jam Kerja")],-1),H=Object(a["j"])("span",{class:"p-column-title"},"ID",-1),R={class:"field"},A=Object(a["j"])("label",{for:"name"},"Jam Kerja",-1),V={key:0,class:"p-invalid"},M={class:"field"},K=Object(a["j"])("label",{for:"date"},"Tanggal Mulai",-1),Y={key:0,class:"p-invalid"},q={class:"field"},G=Object(a["j"])("label",{for:"date"},"Tanggal Selesai",-1),Q={key:0,class:"p-invalid"};function X(e,t,o,r,i,l){const s=Object(a["H"])("Button"),n=Object(a["H"])("Toolbar"),c=Object(a["H"])("Column"),d=Object(a["H"])("DataTable"),p=Object(a["H"])("Dropdown"),m=Object(a["H"])("Calendar"),u=Object(a["H"])("Dialog");return Object(a["z"])(),Object(a["i"])("div",$,[Object(a["j"])("div",J,[Object(a["m"])(n,{class:"mb-4"},{start:Object(a["S"])(()=>[Object(a["j"])("div",N,[Object(a["m"])(s,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:l.openNew},null,8,["onClick"])])]),_:1}),Object(a["m"])(d,{value:i.employeeWorktimes,ref:"dt",dataKey:"id",responsiveLayout:"scroll"},{header:Object(a["S"])(()=>[E]),default:Object(a["S"])(()=>[Object(a["m"])(c,{field:"id",header:"ID",sortable:!0},{body:Object(a["S"])(e=>[H,Object(a["l"])(" "+Object(a["L"])(e.data.id),1)]),_:1}),Object(a["m"])(c,{field:"name",header:"Nama"}),Object(a["m"])(c,{field:"pivot.date_start",header:"Tanggal Mulai"}),Object(a["m"])(c,{field:"pivot.date_end",header:"Tanggal Selesai"}),Object(a["m"])(c,{header:"Aksi"},{body:Object(a["S"])(e=>[e.data.id?(Object(a["z"])(),Object(a["g"])(s,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:t=>l.confirmDelete(e.data)},null,8,["onClick"])):Object(a["h"])("",!0)]),_:1})]),_:1},8,["value"]),Object(a["m"])(u,{visible:i.employeeWorktimeDialog,"onUpdate:visible":t[3]||(t[3]=e=>i.employeeWorktimeDialog=e),style:{width:"450px"},header:"Form Detail Jam Kerja",modal:!0,class:"p-fluid"},{footer:Object(a["S"])(()=>[Object(a["m"])(s,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:l.hideDialog},null,8,["onClick"]),Object(a["m"])(s,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:l.saveWorktime},null,8,["onClick"])]),default:Object(a["S"])(()=>[Object(a["j"])("div",R,[A,Object(a["m"])(p,{modelValue:i.employeeWorktime.worktime_id,"onUpdate:modelValue":t[0]||(t[0]=e=>i.employeeWorktime.worktime_id=e),options:i.worktimes,optionLabel:"name",optionValue:"id",placeholder:"Pilih Jam Kerja",class:Object(a["t"])({"p-invalid":i.submitted&&!i.employeeWorktime.worktime_id})},null,8,["modelValue","options","class"]),i.submitted&&!i.employeeWorktime.worktime_id?(Object(a["z"])(),Object(a["i"])("small",V,"Jam kerja diperlukan.")):Object(a["h"])("",!0)]),Object(a["j"])("div",M,[K,Object(a["m"])(m,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:i.employeeWorktime.date_start,"onUpdate:modelValue":t[1]||(t[1]=e=>i.employeeWorktime.date_start=e),required:"true",autofocus:"",class:Object(a["t"])({"p-invalid":i.submitted&&!i.employeeWorktime.date_start})},null,8,["modelValue","class"]),i.submitted&&!i.employeeWorktime.date_start?(Object(a["z"])(),Object(a["i"])("small",Y,"Tanggal mulai diperlukan.")):Object(a["h"])("",!0)]),Object(a["j"])("div",q,[G,Object(a["m"])(m,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:i.employeeWorktime.date_end,"onUpdate:modelValue":t[2]||(t[2]=e=>i.employeeWorktime.date_end=e),required:"true",autofocus:"",class:Object(a["t"])({"p-invalid":i.submitted&&!i.employeeWorktime.date_end})},null,8,["modelValue","class"]),i.submitted&&!i.employeeWorktime.date_end?(Object(a["z"])(),Object(a["i"])("small",Q,"Tanggal selesai diperlukan.")):Object(a["h"])("",!0)])]),_:1},8,["visible"])])])}var Z=o("7467"),ee={props:{employee:{},employeeService:null},data(){return{loading:!1,worktimes:null,employeeWorktimes:null,employeeWorktime:{},filters:{},lazyParams:{},columns:[{field:"id",header:"ID"},{field:"name",header:"Nama"},{field:"pivot.date_start",header:"Tanggal Mulai"},{field:"pivot.date_end",header:"Tanggal Selesai"}],employeeWorktimeDialog:!1,submitted:!1}},worktimeService:null,created(){this.worktimeService=new Z["a"],this.employeeWorktimes=this.employee.worktimes},mounted(){this.initData()},methods:{initData(){this.worktimeService.getAllWorktimes().then(e=>{this.worktimes=e})},openNew(){this.employeeWorktime={},this.submitted=!1,this.employeeWorktimeDialog=!0},editPlace(e){this.employeeWorktime={...e},this.employeeWorktimeDialog=!0},confirmDelete(e){this.employeeWorktime=e,this.$swal({title:"Apakah anda yakin akan menghapus data ini ?",showCancelButton:!0,confirmButtonText:"Hapus"}).then(e=>{e.isConfirmed&&this.employeeService.deleteWorktime(this.employee,this.employeeWorktime).then(e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.employeeWorktimes=this.employeeWorktimes.filter(e=>e.id!==this.employeeWorktime.id),this.$swal({icon:"success",title:"Success",text:e.message}),this.employeeWorktimeDialog=!1,this.employeeWorktime={}):this.$swal({icon:"error",title:"Oops...",text:e.message})})})},hideDialog(){this.employeeWorktimeDialog=!1,this.submitted=!1},saveWorktime(){this.submitted=!0;var e=this.employeeWorktime.date_start,t=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;this.employeeWorktime.date_start=e.getFullYear()+"-"+o+"-"+t,e=this.employeeWorktime.date_end,t=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,this.employeeWorktime.date_end=e.getFullYear()+"-"+o+"-"+t,this.employeeService.addWorktime(this.employee,this.employeeWorktime).then(e=>{if("redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success){this.$swal({icon:"success",title:"Success",text:e.message});var t=this.worktimes.find(e=>e.id===this.employeeWorktime.worktime_id);this.employeeWorktimes.push({name:t.name,pivot:{date_start:this.employeeWorktime.date_start,date_end:this.employeeWorktime.date_end}}),this.employeeWorktimeDialog=!1,this.employeeWorktime={}}else this.$swal({icon:"error",title:"Oops...",text:e.message})})},findIndexById(e){let t=-1;for(let o=0;o<this.employeeWorktimes.length;o++)if(this.employeeWorktimes[o].id===e){t=o;break}return t}}},te=o("6b0d"),oe=o.n(te);const ae=oe()(ee,[["render",X]]);var re=ae,ie={components:{DetailWorktime:re},data(){return{employeeId:null,employee:{},roleDialog:!1,submitted:!1,user_role:"",roleLists:[{name:"Pegawai",value:"pegawai"},{name:"Kasubag Umum",value:"kasubagumum"},{name:"Admin BKD",value:"adminkepegawaian"},{name:"Admin OPD",value:"adminopd"}],role:localStorage.getItem("presence_app_role")}},employeeService:null,created(){this.employeeId=this.$route.params.id,this.employeeService=new U["a"]},mounted(){this.initData()},methods:{initData(){this.employeeService.getEmployee(this.employeeId).then(e=>{this.employee=e})},editRole(){this.roleDialog=!0,this.user_role=this.employee.user.role},hideRoleDialog(){this.roleDialog=!1,this.submitted=!1},saveRole(){this.submitted=!0,this.employeeService.updateRole(this.employee.user,this.user_role).then(e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.roleDialog=!1,this.employee.user.role=this.user_role):this.$swal({icon:"error",title:"Oops...",text:e.message})})},patchPlace(){this.employeeService.patchPlace(this.employee).then(e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.employee.is_free_place=!this.employee.is_free_place):this.$swal({icon:"error",title:"Oops...",text:e.message})})},patchAndroid(){this.employeeService.patchAndroid(this.employee).then(e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.employee.is_android_user=!this.employee.is_android_user):this.$swal({icon:"error",title:"Oops...",text:e.message})})},resetDevice(){this.employeeService.resetDevice(this.employee).then(e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.initData()):this.$swal({icon:"error",title:"Oops...",text:e.message})})}}};const le=oe()(ie,[["render",F]]);t["default"]=le}}]);
//# sourceMappingURL=chunk-e3b2af10.5adc52dc.js.map