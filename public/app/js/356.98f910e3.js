"use strict";(self["webpackChunksakai_vue"]=self["webpackChunksakai_vue"]||[]).push([[356],{6356:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var s=t(6760),l=t(5328);const i=e=>((0,s.ED)("data-v-ed5a2d3e"),e=e(),(0,s.ii)(),e),n={class:"surface-0 flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},o={class:"grid justify-content-center p-2 lg:p-0",style:{"min-width":"80%"}},r={class:"col-12 xl:col-6",style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color), rgba(33, 150, 243, 0) 30%)"}},d={class:"h-full w-full m-0 py-7 px-4",style:{"border-radius":"53px",background:"linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"}},u={class:"text-center mb-5"},c=["src"],p=i((()=>(0,s.QD)("div",{class:"text-900 text-3xl font-medium mb-3"},"Selamat Datang!",-1))),m=i((()=>(0,s.QD)("span",{class:"text-600 font-medium"},"Silahkan masuk untuk melanjutkan",-1))),g={class:"w-full md:w-10 mx-auto"},h=i((()=>(0,s.QD)("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"Username",-1))),b=i((()=>(0,s.QD)("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Kata Sandi",-1)));function f(e,a,t,i,f,k){const w=(0,s.E1)("InputText"),_=(0,s.E1)("Password"),v=(0,s.E1)("Button");return(0,s.Wz)(),(0,s.An)("div",n,[(0,s.QD)("div",o,[(0,s.QD)("div",r,[(0,s.QD)("div",d,[(0,s.QD)("div",u,[(0,s.QD)("img",{src:f.app_logo,alt:"Image",height:"200",class:"mb-3"},null,8,c),p,m]),(0,s.QD)("div",g,[(0,s.QD)("form",{action:"",method:"post",onSubmit:a[3]||(a[3]=(0,l.Y7)((e=>k.doLogin()),["prevent"]))},[h,(0,s.K2)(w,{id:"email1",modelValue:f.email,"onUpdate:modelValue":a[0]||(a[0]=e=>f.email=e),type:"text",class:"w-full mb-3",placeholder:"Email",style:{padding:"1rem"}},null,8,["modelValue"]),b,(0,s.K2)(_,{id:"password1",modelValue:f.password,"onUpdate:modelValue":a[1]||(a[1]=e=>f.password=e),placeholder:"Password",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:"padding:1rem",feedback:!1},null,8,["modelValue"]),(0,s.K2)(v,{type:"submit",label:f.sign_in_label,disabled:f.disabled,class:"w-full p-3 text-xl",onClick:a[2]||(a[2]=e=>k.doLogin())},null,8,["label","disabled"])],32)])])])])])}t(3248);class k{async validate(){var e=await fetch("https://sisapa.tanjungbalaikota.go.id/api/user",{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}});return e.status}login(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json()))}}var w={data(){return{email:"",password:"",sign_in_label:"Masuk",disabled:!1,API_URL:"https://sisapa.tanjungbalaikota.go.id/api/",app_logo:"https://sisapa.tanjungbalaikota.go.id/app-logo.png",checked:!1}},AuthService:null,created(){this.AuthService=new k},methods:{doLogin(){this.sign_in_label="Silahkan tunggu...",this.disabled=!0,this.AuthService.login({email:this.email,password:this.password}).then((e=>{e.success?(localStorage.setItem("presence_app_token",e.data.token),localStorage.setItem("presence_app_role",e.data.user.role),localStorage.setItem("presence_user_data",JSON.stringify(e.data.user)),this.sign_in_label="Login berhasil",this.$router.push({name:"dashboard"})):(this.$swal({icon:"error",title:"Oops...",text:e.message}),this.sign_in_label="Masuk",this.disabled=!1)}))}},computed:{logoColor(){return this.$appState.darkTheme?"white":"dark"}}},_=t(8152);const v=(0,_.c)(w,[["render",f],["__scopeId","data-v-ed5a2d3e"]]);var x=v}}]);
//# sourceMappingURL=356.98f910e3.js.map