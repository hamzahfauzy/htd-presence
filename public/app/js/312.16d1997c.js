"use strict";(self["webpackChunksakai_vue"]=self["webpackChunksakai_vue"]||[]).push([[312],{6234:function(e,t,o){o.d(t,{Z:function(){return i}});class i{getEmployees(e,t=!1){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var i=1==e.sortOrder?"asc":"desc";o+="&order_by="+i,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value)}var s=JSON.parse(localStorage.getItem("presence_user_data"));return s.workunit_id&&(o+="&workunit_id="+s.workunit_id),t&&(o+="&workunit_id="+t),fetch("https://presensi.webisnis.id/api/employees?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}getEmployeesReport(e,t){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var i=1==e.sortOrder?"asc":"desc";o+="&order_by="+i,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("https://presensi.webisnis.id/api/employees/reports/"+t+"?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}getEmployeesReportDetail(e,t){var o="";if(e){o="page="+(e.page+1)+"&per_page="+e.rows;var i=1==e.sortOrder?"asc":"desc";o+="&order_by="+i,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("https://presensi.webisnis.id/api/employees/report-details/"+t+"?"+o,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}getEmployeesReportPdfLink(e,t){var o="";if(e){var i=1==e.sortOrder?"asc":"desc";o+="&order_by="+i,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"https://presensi.webisnis.id/api/employees/report-pdf/"+t+"?"+o}getEmployeesReportDetailPdfLink(e,t){var o="";if(e){var i=1==e.sortOrder?"asc":"desc";o+="&order_by="+i,null!=e.sortField&&(o+="&sort_by="+e.sortField),e.filters.global.value&&(o+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(o+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"https://presensi.webisnis.id/api/employees/report-detail-pdf/"+t+"?"+o}getEmployee(e){return fetch("https://presensi.webisnis.id/api/employees/"+e,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}getPresence(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e+"/presences/"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}updateRole(e,t){var o={...e};return o.role=t,fetch("https://presensi.webisnis.id/api/users/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(o)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}addPlace(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/place",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}deletePlace(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/place",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({place_id:t.id})}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}patchPlace(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}patchAndroid(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/android-user",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}resetDevice(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/reset-device",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}resetPassword(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/reset-password",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}addWorktime(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/worktime",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}deleteWorktime(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e.id+"/worktime",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({worktime_id:t.id,date_start:t.pivot.date_start,date_end:t.pivot.date_end})}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}actionPresence(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+t.employee_id+"/presences/"+t.id,{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({status:e})}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}insertPresence(e,t){return fetch("https://presensi.webisnis.id/api/employees/"+e+"/presences",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")},body:t}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}addEmployee(e){return fetch("https://presensi.webisnis.id/api/employees",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({workunit_id:e.workunit_id,nip:e.nip,name:e.name,group:e.group,position:e.position,phone:e.phone})}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}updateEmployee(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id,{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({workunit_id:e.workunit_id,nip:e.nip,name:e.name,group:e.group,position:e.position,phone:e.phone})}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}deleteEmployee(e){return fetch("https://presensi.webisnis.id/api/employees/"+e.id,{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}}},5325:function(e,t,o){o.d(t,{Z:function(){return i}});class i{getWorktimes(e){var t="page="+(e.page+1)+"&per_page="+e.rows,o=1==e.sortOrder?"asc":"desc";return t+="&order_by="+o,null!=e.sortField&&(t+="&sort_by="+e.sortField),e.filters.global.value&&(t+="&keyword="+e.filters.global.value),fetch("https://presensi.webisnis.id/api/worktimes?"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}getAllWorktimes(){return fetch("https://presensi.webisnis.id/api/worktimes?response=array",{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((e=>401==e.status?{data:{redirectTo:"login"}}:e.json())).then((e=>e.data))}createWorktime(e){return fetch("https://presensi.webisnis.id/api/worktimes",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}updateWorktime(e){return fetch("https://presensi.webisnis.id/api/worktimes/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}deleteWorktime(e){return fetch("https://presensi.webisnis.id/api/worktimes/"+e.id,{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((e=>401==e.status?{redirectTo:"Login"}:e.json()))}}},3312:function(e,t,o){o.r(t),o.d(t,{default:function(){return pe}});var i=o(6252),s=o(3577);const r={class:"grid"},a={class:"col-12"},l={class:"card"},n=(0,i._)("div",{class:"font-medium text-3xl text-900 mb-3"},"Detail Pegawai",-1),d={class:"list-none p-0 m-0"},p={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},m=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Kode Pegawai",-1),c={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},u={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},h=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Nama",-1),g={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},_={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},y=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Golongan",-1),k={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},w={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},f=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Jabatan",-1),b={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},v={class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},x=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Unit Kerja",-1),S={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},T={key:0,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},W=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Bebas Lokasi",-1),D={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},j={class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},I=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Pengguna Android",-1),C={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},P={key:1,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},z=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Device",-1),B={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},O={key:2,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},F=(0,i._)("div",{class:"text-500 w-6 md:w-2 font-medium"},"Password",-1),U={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},L={class:"field"},E=(0,i._)("label",{for:"name"},"Role Name",-1),$={key:0,class:"p-invalid"};function N(e,t,o,N,J,R){const A=(0,i.up)("Dropdown"),V=(0,i.up)("Button"),q=(0,i.up)("Dialog"),K=(0,i.up)("DetailWorktime");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",a,[(0,i._)("div",l,[n,(0,i._)("ul",d,[(0,i._)("li",p,[m,(0,i._)("div",c,(0,s.zw)(J.employee.nip),1)]),(0,i._)("li",u,[h,(0,i._)("div",g,(0,s.zw)(J.employee.name),1)]),(0,i._)("li",_,[y,(0,i._)("div",k,(0,s.zw)(J.employee.group),1)]),(0,i._)("li",w,[f,(0,i._)("div",b,(0,s.zw)(J.employee.position),1)]),(0,i._)("li",v,[x,(0,i._)("div",S,(0,s.zw)(J.employee.workunit?J.employee.workunit.name:""),1)]),"superuser"==J.role?((0,i.wg)(),(0,i.iD)("li",T,[W,(0,i._)("div",D,[(0,i.Uk)((0,s.zw)(J.employee.is_free_place?"Ya":"Tidak")+" "+(0,s.zw)("adminsistem"!=J.role?"-":"")+" ",1),(0,i._)("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=e=>R.patchPlace())},"Update")])])):(0,i.kq)("",!0),(0,i._)("li",j,[I,(0,i._)("div",C,[(0,i.Uk)((0,s.zw)(J.employee.is_android_user?"Ya":"Tidak")+" "+(0,s.zw)("adminsistem"!=J.role?"-":"")+" ",1),(0,i._)("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=e=>R.patchAndroid())},"Update")])]),"adminsistem"==J.role||"adminkepegawaian"==J.role||"superuser"==J.role?((0,i.wg)(),(0,i.iD)("li",P,[z,(0,i._)("div",B,[(0,i.Uk)((0,s.zw)(J.employee.user?.device_number??"-")+" ",1),J.employee.user?.device_number?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"javascript:void(0)",onClick:t[2]||(t[2]=e=>R.resetDevice())},"- Reset Device")):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),"adminsistem"==J.role||"adminkepegawaian"==J.role||"superuser"==J.role?((0,i.wg)(),(0,i.iD)("li",O,[F,(0,i._)("div",U,[(0,i._)("a",{href:"javascript:void(0)",onClick:t[3]||(t[3]=e=>R.resetPassword())},"Reset Password")])])):(0,i.kq)("",!0)])])]),(0,i.Wm)(q,{visible:J.roleDialog,"onUpdate:visible":t[5]||(t[5]=e=>J.roleDialog=e),style:{width:"450px"},header:"Edit System Role",modal:!0,class:"p-fluid"},{footer:(0,i.w5)((()=>[(0,i.Wm)(V,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:R.hideRoleDialog},null,8,["onClick"]),(0,i.Wm)(V,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:R.saveRole},null,8,["onClick"])])),default:(0,i.w5)((()=>[(0,i._)("div",L,[E,(0,i.Wm)(A,{modelValue:J.user_role,"onUpdate:modelValue":t[4]||(t[4]=e=>J.user_role=e),options:J.roleLists,optionLabel:"name",optionValue:"value",placeholder:"Pilih Role",class:(0,s.C_)({"p-invalid":J.submitted&&!J.user_role})},null,8,["modelValue","options","class"]),J.submitted&&!J.user_role?((0,i.wg)(),(0,i.iD)("small",$,"Role name diperlukan.")):(0,i.kq)("",!0)])])),_:1},8,["visible"]),0!=Object.keys(J.employee).length?((0,i.wg)(),(0,i.j4)(K,{key:0,employee:J.employee,employeeService:e.employeeService},null,8,["employee","employeeService"])):(0,i.kq)("",!0)])}o(560);var J=o(6234);const R={class:"col-12"},A={class:"card"},V={class:"my-2"},q=(0,i._)("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[(0,i._)("h5",{class:"m-0"},"Detail Jam Kerja")],-1),K=(0,i._)("span",{class:"p-column-title"},"ID",-1),M={class:"field"},Z=(0,i._)("label",{for:"name"},"Jam Kerja",-1),H={key:0,class:"p-invalid"},Y={class:"field"},G=(0,i._)("label",{for:"date"},"Tanggal Mulai",-1),Q={key:0,class:"p-invalid"},X={class:"field"},ee=(0,i._)("label",{for:"date"},"Tanggal Selesai",-1),te={key:0,class:"p-invalid"};function oe(e,t,o,r,a,l){const n=(0,i.up)("Button"),d=(0,i.up)("Toolbar"),p=(0,i.up)("Column"),m=(0,i.up)("DataTable"),c=(0,i.up)("Dropdown"),u=(0,i.up)("Calendar"),h=(0,i.up)("Dialog");return(0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("div",A,[(0,i.Wm)(d,{class:"mb-4"},{start:(0,i.w5)((()=>[(0,i._)("div",V,[(0,i.Wm)(n,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:l.openNew},null,8,["onClick"])])])),_:1}),(0,i.Wm)(m,{value:a.employeeWorktimes,ref:"dt",dataKey:"id",responsiveLayout:"scroll"},{header:(0,i.w5)((()=>[q])),default:(0,i.w5)((()=>[(0,i.Wm)(p,{field:"id",header:"ID",sortable:!0},{body:(0,i.w5)((e=>[K,(0,i.Uk)(" "+(0,s.zw)(e.data.id),1)])),_:1}),(0,i.Wm)(p,{field:"name",header:"Nama"}),(0,i.Wm)(p,{field:"pivot.date_start",header:"Tanggal Mulai"}),(0,i.Wm)(p,{field:"pivot.date_end",header:"Tanggal Selesai"}),(0,i.Wm)(p,{header:"Aksi"},{body:(0,i.w5)((e=>[e.data.id?((0,i.wg)(),(0,i.j4)(n,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:t=>l.confirmDelete(e.data)},null,8,["onClick"])):(0,i.kq)("",!0)])),_:1})])),_:1},8,["value"]),(0,i.Wm)(h,{visible:a.employeeWorktimeDialog,"onUpdate:visible":t[3]||(t[3]=e=>a.employeeWorktimeDialog=e),style:{width:"450px"},header:"Form Detail Jam Kerja",modal:!0,class:"p-fluid"},{footer:(0,i.w5)((()=>[(0,i.Wm)(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:l.hideDialog},null,8,["onClick"]),(0,i.Wm)(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:l.saveWorktime},null,8,["onClick"])])),default:(0,i.w5)((()=>[(0,i._)("div",M,[Z,(0,i.Wm)(c,{modelValue:a.employeeWorktime.worktime_id,"onUpdate:modelValue":t[0]||(t[0]=e=>a.employeeWorktime.worktime_id=e),options:a.worktimes,optionLabel:"name",optionValue:"id",placeholder:"Pilih Jam Kerja",class:(0,s.C_)({"p-invalid":a.submitted&&!a.employeeWorktime.worktime_id})},null,8,["modelValue","options","class"]),a.submitted&&!a.employeeWorktime.worktime_id?((0,i.wg)(),(0,i.iD)("small",H,"Jam kerja diperlukan.")):(0,i.kq)("",!0)]),(0,i._)("div",Y,[G,(0,i.Wm)(u,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:a.employeeWorktime.date_start,"onUpdate:modelValue":t[1]||(t[1]=e=>a.employeeWorktime.date_start=e),required:"true",autofocus:"",class:(0,s.C_)({"p-invalid":a.submitted&&!a.employeeWorktime.date_start})},null,8,["modelValue","class"]),a.submitted&&!a.employeeWorktime.date_start?((0,i.wg)(),(0,i.iD)("small",Q,"Tanggal mulai diperlukan.")):(0,i.kq)("",!0)]),(0,i._)("div",X,[ee,(0,i.Wm)(u,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:a.employeeWorktime.date_end,"onUpdate:modelValue":t[2]||(t[2]=e=>a.employeeWorktime.date_end=e),required:"true",autofocus:"",class:(0,s.C_)({"p-invalid":a.submitted&&!a.employeeWorktime.date_end})},null,8,["modelValue","class"]),a.submitted&&!a.employeeWorktime.date_end?((0,i.wg)(),(0,i.iD)("small",te,"Tanggal selesai diperlukan.")):(0,i.kq)("",!0)])])),_:1},8,["visible"])])])}var ie=o(5325),se={props:{employee:{},employeeService:null},data(){return{loading:!1,worktimes:null,employeeWorktimes:null,employeeWorktime:{},filters:{},lazyParams:{},columns:[{field:"id",header:"ID"},{field:"name",header:"Nama"},{field:"pivot.date_start",header:"Tanggal Mulai"},{field:"pivot.date_end",header:"Tanggal Selesai"}],employeeWorktimeDialog:!1,submitted:!1}},worktimeService:null,created(){this.worktimeService=new ie.Z,this.employeeWorktimes=this.employee.worktimes},mounted(){this.initData()},methods:{initData(){this.worktimeService.getAllWorktimes().then((e=>{this.worktimes=e}))},openNew(){this.employeeWorktime={},this.submitted=!1,this.employeeWorktimeDialog=!0},editPlace(e){this.employeeWorktime={...e},this.employeeWorktimeDialog=!0},confirmDelete(e){this.employeeWorktime=e,this.$swal({title:"Apakah anda yakin akan menghapus data ini ?",showCancelButton:!0,confirmButtonText:"Hapus"}).then((e=>{e.isConfirmed&&this.employeeService.deleteWorktime(this.employee,this.employeeWorktime).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.employeeWorktimes=e.data.worktimes,this.$swal({icon:"success",title:"Success",text:e.message}),this.employeeWorktimeDialog=!1,this.employeeWorktime={}):this.$swal({icon:"error",title:"Oops...",text:e.message})}))}))},hideDialog(){this.employeeWorktimeDialog=!1,this.submitted=!1},saveWorktime(){this.submitted=!0;var e=this.employeeWorktime.date_start,t=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;this.employeeWorktime.date_start=e.getFullYear()+"-"+o+"-"+t,e=this.employeeWorktime.date_end,t=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,this.employeeWorktime.date_end=e.getFullYear()+"-"+o+"-"+t,this.employeeService.addWorktime(this.employee,this.employeeWorktime).then((e=>{if("redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success){this.$swal({icon:"success",title:"Success",text:e.message});var t=this.worktimes.find((e=>e.id===this.employeeWorktime.worktime_id));this.employeeWorktimes.push({id:t.id,name:t.name,pivot:{date_start:this.employeeWorktime.date_start,date_end:this.employeeWorktime.date_end}}),this.employeeWorktimeDialog=!1,this.employeeWorktime={}}else this.$swal({icon:"error",title:"Oops...",text:e.message})}))},findIndexById(e){let t=-1;for(let o=0;o<this.employeeWorktimes.length;o++)if(this.employeeWorktimes[o].id===e){t=o;break}return t}}},re=o(3744);const ae=(0,re.Z)(se,[["render",oe]]);var le=ae,ne={components:{DetailWorktime:le},data(){return{employeeId:null,employee:{},roleDialog:!1,submitted:!1,user_role:"",roleLists:[{name:"Pegawai",value:"pegawai"},{name:"Kasubag Umum",value:"kasubagumum"},{name:"Admin BKD",value:"adminkepegawaian"},{name:"Admin OPD",value:"adminopd"}],role:localStorage.getItem("presence_app_role")}},employeeService:null,created(){this.employeeId=this.$route.params.id,this.employeeService=new J.Z},mounted(){this.initData()},methods:{initData(){this.employeeService.getEmployee(this.employeeId).then((e=>{this.employee=e}))},editRole(){this.roleDialog=!0,this.user_role=this.employee.user.role},hideRoleDialog(){this.roleDialog=!1,this.submitted=!1},saveRole(){this.submitted=!0,this.employeeService.updateRole(this.employee.user,this.user_role).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.roleDialog=!1,this.employee.user.role=this.user_role):this.$swal({icon:"error",title:"Oops...",text:e.message})}))},patchPlace(){this.employeeService.patchPlace(this.employee).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.employee.is_free_place=!this.employee.is_free_place):this.$swal({icon:"error",title:"Oops...",text:e.message})}))},patchAndroid(){this.employeeService.patchAndroid(this.employee).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.employee.is_android_user=!this.employee.is_android_user):this.$swal({icon:"error",title:"Oops...",text:e.message})}))},resetDevice(){this.employeeService.resetDevice(this.employee).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.initData()):this.$swal({icon:"error",title:"Oops...",text:e.message})}))},resetPassword(){this.employeeService.resetPassword(this.employee).then((e=>{"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),this.$router.push(e.redirectTo)),e.success?(this.$swal({icon:"success",title:"Success",text:e.message}),this.initData()):this.$swal({icon:"error",title:"Oops...",text:e.message})}))}}};const de=(0,re.Z)(ne,[["render",N]]);var pe=de}}]);
//# sourceMappingURL=312.16d1997c.js.map