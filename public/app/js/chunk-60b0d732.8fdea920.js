(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60b0d732"],{"06d6":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("5530"),a=r("d4ec"),i=r("bee2"),n=(r("d3b7"),r("e9c4"),function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"getEmployees",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var o=1==e.sortOrder?"asc":"desc";r+="&order_by="+o,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value)}var a=JSON.parse(localStorage.getItem("presence_user_data"));return a.workunit_id&&(r+="&workunit_id="+a.workunit_id),t&&(r+="&workunit_id="+t),fetch("http://103.151.71.42/api/employees?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReport",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var o=1==e.sortOrder?"asc":"desc";r+="&order_by="+o,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("http://103.151.71.42/api/employees/reports/"+t+"?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReportDetail",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var o=1==e.sortOrder?"asc":"desc";r+="&order_by="+o,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("http://103.151.71.42/api/employees/report-details/"+t+"?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReportPdfLink",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var o=1==e.sortOrder?"asc":"desc";r+="&order_by="+o,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"http://103.151.71.42/api/employees/report-pdf/"+t+"?"+r}},{key:"getEmployeesReportDetailPdfLink",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var o=1==e.sortOrder?"asc":"desc";r+="&order_by="+o,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"http://103.151.71.42/api/employees/report-detail-pdf/"+t+"?"+r}},{key:"getEmployee",value:function(e){return fetch("http://103.151.71.42/api/employees/"+e,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getPresence",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e+"/presences/"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"updateEmployee",value:function(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({lat:e.lat,lng:e.lng,radius:e.radius})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"updateRole",value:function(e,t){var r=Object(o["a"])({},e);return r.role=t,fetch("http://103.151.71.42/api/users/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"addPlace",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"deletePlace",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({place_id:t.id})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"patchPlace",value:function(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"resetDevice",value:function(e){return fetch("http://103.151.71.42/api/employees/"+e.id+"/reset-device",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"addWorktime",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/worktime",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"deleteWorktime",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e.id+"/worktime",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({worktime_id:t.id})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"actionPresence",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+t.employee_id+"/presences/"+t.id,{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({status:e})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"insertPresence",value:function(e,t){return fetch("http://103.151.71.42/api/employees/"+e+"/presences",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")},body:t}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}}]),e}())},"4de4":function(e,t,r){"use strict";var o=r("23e7"),a=r("b727").filter,i=r("1dde"),n=i("filter");o({target:"Array",proto:!0,forced:!n},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},7467:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var o=r("d4ec"),a=r("bee2"),i=(r("d3b7"),r("e9c4"),function(){function e(){Object(o["a"])(this,e)}return Object(a["a"])(e,[{key:"getWorktimes",value:function(e){var t="page="+(e.page+1)+"&per_page="+e.rows,r=1==e.sortOrder?"asc":"desc";return t+="&order_by="+r,null!=e.sortField&&(t+="&sort_by="+e.sortField),e.filters.global.value&&(t+="&keyword="+e.filters.global.value),fetch("http://103.151.71.42/api/worktimes?"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getAllWorktimes",value:function(){return fetch("http://103.151.71.42/api/worktimes?response=array",{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"createWorktime",value:function(e){return fetch("http://103.151.71.42/api/worktimes",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"updateWorktime",value:function(e){return fetch("http://103.151.71.42/api/worktimes/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"deleteWorktime",value:function(e){return fetch("http://103.151.71.42/api/worktimes/"+e.id,{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}}]),e}())},"7db0":function(e,t,r){"use strict";var o=r("23e7"),a=r("b727").find,i=r("44d2"),n="find",l=!0;n in[]&&Array(1)[n]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(n)},ae80:function(e,t,r){"use strict";r.r(t);r("b0c0"),r("b64b");var o=r("7a23"),a={class:"grid"},i={class:"col-12"},n={class:"card"},l=Object(o["j"])("div",{class:"font-medium text-3xl text-900 mb-3"},"Detail Pegawai",-1),s={class:"list-none p-0 m-0"},c={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},d=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"NIP",-1),u={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},p={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},m=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Nama",-1),f={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},b={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},h=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Golongan",-1),y={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},g={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},j=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Jabatan",-1),k={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},v={class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},O=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Instansi",-1),_={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},w={key:0,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},S=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Bebas Lokasi",-1),T={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},x={key:1,class:"flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"},D=Object(o["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Device",-1),W={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1 line-height-3"},I={class:"field"},P=Object(o["j"])("label",{for:"name"},"Role Name",-1),C={key:0,class:"p-invalid"};function B(e,t,r,B,F,L){var A,U,z,E=Object(o["I"])("Dropdown"),J=Object(o["I"])("Button"),N=Object(o["I"])("Dialog"),M=Object(o["I"])("DetailWorktime");return Object(o["A"])(),Object(o["i"])("div",a,[Object(o["j"])("div",i,[Object(o["j"])("div",n,[l,Object(o["j"])("ul",s,[Object(o["j"])("li",c,[d,Object(o["j"])("div",u,Object(o["M"])(F.employee.nip),1)]),Object(o["j"])("li",p,[m,Object(o["j"])("div",f,Object(o["M"])(F.employee.name),1)]),Object(o["j"])("li",b,[h,Object(o["j"])("div",y,Object(o["M"])(F.employee.group),1)]),Object(o["j"])("li",g,[j,Object(o["j"])("div",k,Object(o["M"])(F.employee.position),1)]),Object(o["j"])("li",v,[O,Object(o["j"])("div",_,Object(o["M"])(F.employee.workunit?F.employee.workunit.name:""),1)]),"superuser"==F.role?(Object(o["A"])(),Object(o["i"])("li",w,[S,Object(o["j"])("div",T,[Object(o["m"])(Object(o["M"])(F.employee.is_free_place?"Ya":"Tidak")+" "+Object(o["M"])("adminsistem"!=F.role?"-":"")+" ",1),Object(o["j"])("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=function(e){return L.patchPlace()})},"Update")])])):Object(o["h"])("",!0),"adminsistem"==F.role||"adminkepegawaian"==F.role||"superuser"==F.role?(Object(o["A"])(),Object(o["i"])("li",x,[D,Object(o["j"])("div",W,[Object(o["m"])(Object(o["M"])(null!==(A=null===(U=F.employee.user)||void 0===U?void 0:U.device_number)&&void 0!==A?A:"-")+" ",1),null!==(z=F.employee.user)&&void 0!==z&&z.device_number?(Object(o["A"])(),Object(o["i"])("a",{key:0,href:"javascript:void(0)",onClick:t[1]||(t[1]=function(e){return L.resetDevice()})},"- Reset Device")):Object(o["h"])("",!0)])])):Object(o["h"])("",!0)])])]),Object(o["n"])(N,{visible:F.roleDialog,"onUpdate:visible":t[3]||(t[3]=function(e){return F.roleDialog=e}),style:{width:"450px"},header:"Edit System Role",modal:!0,class:"p-fluid"},{footer:Object(o["T"])((function(){return[Object(o["n"])(J,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:L.hideRoleDialog},null,8,["onClick"]),Object(o["n"])(J,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:L.saveRole},null,8,["onClick"])]})),default:Object(o["T"])((function(){return[Object(o["j"])("div",I,[P,Object(o["n"])(E,{modelValue:F.user_role,"onUpdate:modelValue":t[2]||(t[2]=function(e){return F.user_role=e}),options:F.roleLists,optionLabel:"name",optionValue:"value",placeholder:"Pilih Role",class:Object(o["u"])({"p-invalid":F.submitted&&!F.user_role})},null,8,["modelValue","options","class"]),F.submitted&&!F.user_role?(Object(o["A"])(),Object(o["i"])("small",C,"Role name diperlukan.")):Object(o["h"])("",!0)])]})),_:1},8,["visible"]),0!=Object.keys(F.employee).length?(Object(o["A"])(),Object(o["g"])(M,{key:0,employee:F.employee,employeeService:e.employeeService},null,8,["employee","employeeService"])):Object(o["h"])("",!0)])}var F=r("06d6"),L={class:"col-12"},A={class:"card"},U={class:"my-2"},z=Object(o["j"])("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[Object(o["j"])("h5",{class:"m-0"},"Detail Jam Kerja")],-1),E=Object(o["j"])("span",{class:"p-column-title"},"ID",-1),J={class:"field"},N=Object(o["j"])("label",{for:"name"},"Jam Kerja",-1),M={key:0,class:"p-invalid"},$={class:"field"},R=Object(o["j"])("label",{for:"date"},"Tanggal Mulai",-1),V={key:0,class:"p-invalid"},K={class:"field"},H=Object(o["j"])("label",{for:"date"},"Tanggal Selesai",-1),Y={key:0,class:"p-invalid"};function q(e,t,r,a,i,n){var l=Object(o["I"])("Button"),s=Object(o["I"])("Toolbar"),c=Object(o["I"])("Column"),d=Object(o["I"])("DataTable"),u=Object(o["I"])("Dropdown"),p=Object(o["I"])("Calendar"),m=Object(o["I"])("Dialog");return Object(o["A"])(),Object(o["i"])("div",L,[Object(o["j"])("div",A,[Object(o["n"])(s,{class:"mb-4"},{start:Object(o["T"])((function(){return[Object(o["j"])("div",U,[Object(o["n"])(l,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:n.openNew},null,8,["onClick"])])]})),_:1}),Object(o["n"])(d,{value:i.employeeWorktimes,ref:"dt",dataKey:"id",responsiveLayout:"scroll"},{header:Object(o["T"])((function(){return[z]})),default:Object(o["T"])((function(){return[Object(o["n"])(c,{field:"id",header:"ID",sortable:!0},{body:Object(o["T"])((function(e){return[E,Object(o["m"])(" "+Object(o["M"])(e.data.id),1)]})),_:1}),Object(o["n"])(c,{field:"name",header:"Nama"}),Object(o["n"])(c,{field:"pivot.date_start",header:"Tanggal Mulai"}),Object(o["n"])(c,{field:"pivot.date_end",header:"Tanggal Selesai"}),Object(o["n"])(c,{header:"Aksi"},{body:Object(o["T"])((function(e){return[e.data.id?(Object(o["A"])(),Object(o["g"])(l,{key:0,icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:function(t){return n.confirmDelete(e.data)}},null,8,["onClick"])):Object(o["h"])("",!0)]})),_:1})]})),_:1},8,["value"]),Object(o["n"])(m,{visible:i.employeeWorktimeDialog,"onUpdate:visible":t[3]||(t[3]=function(e){return i.employeeWorktimeDialog=e}),style:{width:"450px"},header:"Form Detail Jam Kerja",modal:!0,class:"p-fluid"},{footer:Object(o["T"])((function(){return[Object(o["n"])(l,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:n.hideDialog},null,8,["onClick"]),Object(o["n"])(l,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:n.saveWorktime},null,8,["onClick"])]})),default:Object(o["T"])((function(){return[Object(o["j"])("div",J,[N,Object(o["n"])(u,{modelValue:i.employeeWorktime.worktime_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.employeeWorktime.worktime_id=e}),options:i.worktimes,optionLabel:"name",optionValue:"id",placeholder:"Pilih Jam Kerja",class:Object(o["u"])({"p-invalid":i.submitted&&!i.employeeWorktime.worktime_id})},null,8,["modelValue","options","class"]),i.submitted&&!i.employeeWorktime.worktime_id?(Object(o["A"])(),Object(o["i"])("small",M,"Jam kerja diperlukan.")):Object(o["h"])("",!0)]),Object(o["j"])("div",$,[R,Object(o["n"])(p,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:i.employeeWorktime.date_start,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.employeeWorktime.date_start=e}),required:"true",autofocus:"",class:Object(o["u"])({"p-invalid":i.submitted&&!i.employeeWorktime.date_start})},null,8,["modelValue","class"]),i.submitted&&!i.employeeWorktime.date_start?(Object(o["A"])(),Object(o["i"])("small",V,"Tanggal mulai diperlukan.")):Object(o["h"])("",!0)]),Object(o["j"])("div",K,[H,Object(o["n"])(p,{id:"date",dateFormat:"yy-mm-dd",showIcon:!0,showButtonBar:!0,modelValue:i.employeeWorktime.date_end,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.employeeWorktime.date_end=e}),required:"true",autofocus:"",class:Object(o["u"])({"p-invalid":i.submitted&&!i.employeeWorktime.date_end})},null,8,["modelValue","class"]),i.submitted&&!i.employeeWorktime.date_end?(Object(o["A"])(),Object(o["i"])("small",Y,"Tanggal selesai diperlukan.")):Object(o["h"])("",!0)])]})),_:1},8,["visible"])])])}var G=r("5530"),Q=(r("4de4"),r("d3b7"),r("7db0"),r("7467")),X={props:{employee:{},employeeService:null},data:function(){return{loading:!1,worktimes:null,employeeWorktimes:null,employeeWorktime:{},filters:{},lazyParams:{},columns:[{field:"id",header:"ID"},{field:"name",header:"Nama"},{field:"pivot.date_start",header:"Tanggal Mulai"},{field:"pivot.date_end",header:"Tanggal Selesai"}],employeeWorktimeDialog:!1,submitted:!1}},worktimeService:null,created:function(){this.worktimeService=new Q["a"],this.employeeWorktimes=this.employee.worktimes},mounted:function(){this.initData()},methods:{initData:function(){var e=this;this.worktimeService.getAllWorktimes().then((function(t){e.worktimes=t}))},openNew:function(){this.employeeWorktime={},this.submitted=!1,this.employeeWorktimeDialog=!0},editPlace:function(e){this.employeeWorktime=Object(G["a"])({},e),this.employeeWorktimeDialog=!0},confirmDelete:function(e){var t=this;this.employeeWorktime=e,this.$swal({title:"Apakah anda yakin akan menghapus data ini ?",showCancelButton:!0,confirmButtonText:"Hapus"}).then((function(e){e.isConfirmed&&t.employeeService.deleteWorktime(t.employee,t.employeeWorktime).then((function(e){"redirectTo"in e&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),t.$router.push(e.redirectTo)),e.success?(t.employeeWorktimes=t.employeeWorktimes.filter((function(e){return e.id!==t.employeeWorktime.id})),t.$swal({icon:"success",title:"Success",text:e.message}),t.employeeWorktimeDialog=!1,t.employeeWorktime={}):t.$swal({icon:"error",title:"Oops...",text:e.message})}))}))},hideDialog:function(){this.employeeWorktimeDialog=!1,this.submitted=!1},saveWorktime:function(){var e=this;this.submitted=!0;var t=this.employeeWorktime.date_start,r=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;this.employeeWorktime.date_start=t.getFullYear()+"-"+o+"-"+r,t=this.employeeWorktime.date_end,r=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,this.employeeWorktime.date_end=t.getFullYear()+"-"+o+"-"+r,this.employeeService.addWorktime(this.employee,this.employeeWorktime).then((function(t){if("redirectTo"in t&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),e.$router.push(t.redirectTo)),t.success){e.$swal({icon:"success",title:"Success",text:t.message});var r=e.worktimes.find((function(t){return t.id===e.employeeWorktime.worktime_id}));e.employeeWorktimes.push({name:r.name,pivot:{date_start:e.employeeWorktime.date_start,date_end:e.employeeWorktime.date_end}}),e.employeeWorktimeDialog=!1,e.employeeWorktime={}}else e.$swal({icon:"error",title:"Oops...",text:t.message})}))},findIndexById:function(e){for(var t=-1,r=0;r<this.employeeWorktimes.length;r++)if(this.employeeWorktimes[r].id===e){t=r;break}return t}}},Z=r("6b0d"),ee=r.n(Z);const te=ee()(X,[["render",q]]);var re=te,oe={components:{DetailWorktime:re},data:function(){return{employeeId:null,employee:{},roleDialog:!1,submitted:!1,user_role:"",roleLists:[{name:"Pegawai",value:"pegawai"},{name:"Kasubag Umum",value:"kasubagumum"},{name:"Admin BKD",value:"adminkepegawaian"},{name:"Admin OPD",value:"adminopd"}],role:localStorage.getItem("presence_app_role")}},employeeService:null,created:function(){this.employeeId=this.$route.params.id,this.employeeService=new F["a"]},mounted:function(){this.initData()},methods:{initData:function(){var e=this;this.employeeService.getEmployee(this.employeeId).then((function(t){e.employee=t}))},editRole:function(){this.roleDialog=!0,this.user_role=this.employee.user.role},hideRoleDialog:function(){this.roleDialog=!1,this.submitted=!1},saveRole:function(){var e=this;this.submitted=!0,this.employeeService.updateRole(this.employee.user,this.user_role).then((function(t){"redirectTo"in t&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),e.$router.push(t.redirectTo)),t.success?(e.$swal({icon:"success",title:"Success",text:t.message}),e.roleDialog=!1,e.employee.user.role=e.user_role):e.$swal({icon:"error",title:"Oops...",text:t.message})}))},patchPlace:function(){var e=this;this.employeeService.patchPlace(this.employee).then((function(t){"redirectTo"in t&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),e.$router.push(t.redirectTo)),t.success?(e.$swal({icon:"success",title:"Success",text:t.message}),e.employee.is_free_place=!e.employee.is_free_place):e.$swal({icon:"error",title:"Oops...",text:t.message})}))},resetDevice:function(){var e=this;this.employeeService.resetDevice(this.employee).then((function(t){"redirectTo"in t&&(localStorage.removeItem("presence_app_token"),localStorage.removeItem("presence_app_role"),e.$router.push(t.redirectTo)),t.success?(e.$swal({icon:"success",title:"Success",text:t.message}),e.initData()):e.$swal({icon:"error",title:"Oops...",text:t.message})}))}}};const ae=ee()(oe,[["render",B]]);t["default"]=ae},dbb4:function(e,t,r){var o=r("23e7"),a=r("83ab"),i=r("56ef"),n=r("fc6a"),l=r("06cf"),s=r("8418");o({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,r,o=n(e),a=l.f,c=i(o),d={},u=0;while(c.length>u)r=a(o,t=c[u++]),void 0!==r&&s(d,t,r);return d}})},e439:function(e,t,r){var o=r("23e7"),a=r("d039"),i=r("fc6a"),n=r("06cf").f,l=r("83ab"),s=a((function(){n(1)})),c=!l||s;o({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return n(i(e),t)}})}}]);
//# sourceMappingURL=chunk-60b0d732.8fdea920.js.map