{"version":3,"sources":["webpack:///./src/pages/workunits/Detail.vue","webpack:///./src/pages/workunits/DetailWorktime.vue","webpack:///./src/pages/workunits/DetailWorktime.vue?ed75","webpack:///./src/pages/workunits/Detail.vue?49f8","webpack:///./src/service/WorktimeService.js","webpack:///./src/service/WorkunitService.js"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_4","_hoisted_7","_toDisplayString","$data","name","_hoisted_10","lat","_hoisted_13","lng","_hoisted_16","radius","Object","keys","length","_createBlock","_component_DetailWorktime","workunit","workunitService","_ctx","for","_createVNode","_component_Toolbar","start","_component_Button","label","icon","onClick","$options","_component_DataTable","value","ref","dataKey","responsiveLayout","header","_component_Column","field","sortable","body","slotProps","_hoisted_5","data","id","_component_Dialog","visible","$event","style","width","modal","footer","_component_Dropdown","worktime_id","options","optionLabel","optionValue","placeholder","props","loading","worktimes","workunitWorktimes","workunitWorktime","filters","lazyParams","columns","workunitWorktimeDialog","submitted","worktimeService","created","this","WorktimeService","mounted","initData","methods","getAllWorktimes","then","d","openNew","editPlace","confirmDelete","$swal","title","showCancelButton","confirmButtonText","result","isConfirmed","deleteWorktime","localStorage","removeItem","$router","push","redirectTo","success","filter","val","text","message","hideDialog","saveWorktime","assignWorktime","worktime","find","w","findIndexById","index","i","__exports__","components","DetailWorktime","workunitId","$route","params","WorkunitService","getWorkunit","render","getWorktimes","page","rows","order_by","sortOrder","sortField","global","fetch","process","headers","getItem","res","status","json","createWorktime","holiday","method","JSON","stringify","updateWorktime","getWorkunits","getPresences","type","date_start","date_end","api_url","updateWorkunit"],"mappings":"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","file":"js/chunk-27d913c0.74169945.js","sourcesContent":["<template>\r\n\t<div class=\"grid\">\r\n\t\t<div class=\"col-12\">\r\n\t\t\t<div class=\"card\">\r\n                <div class=\"font-medium text-3xl text-900 mb-3\">Detail OPD</div>\r\n                <ul class=\"list-none p-0 m-0\">\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Nama</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.name}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Latitude</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.lat}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Longitude</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.lng}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Radius</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.radius}}\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <!--  Detail jam kerja -->\r\n        <DetailWorktime \r\n            v-if=\"Object.keys(workunit).length != 0\" \r\n            :workunit=\"workunit\" \r\n            :workunitService=\"workunitService\">\r\n        </DetailWorktime>\r\n        <!--  Rekapitulasi Absensi -->\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport WorkunitService from '../../service/WorkunitService'\r\nimport DetailWorktime from './DetailWorktime'\r\n\r\nexport default {\r\n    components:{\r\n        \"DetailWorktime\" : DetailWorktime,\r\n    },\r\n    data() {\r\n        return {\r\n            workunitId:null,\r\n            workunit:{},\r\n            submitted:false,\r\n        }\r\n    },\r\n    workunitService: null,\r\n    created() {\r\n        this.workunitId = this.$route.params.id\r\n        this.workunitService = new WorkunitService();\r\n    },\r\n    mounted(){\r\n        this.initData()\r\n    },\r\n    methods:{\r\n        initData(){\r\n            this.workunitService.getWorkunit(this.workunitId).then(d => {\r\n                this.workunit = d\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>","<template>\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <Toolbar class=\"mb-4\">\r\n                <template v-slot:start>\r\n                    <div class=\"my-2\">\r\n                        <Button label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"openNew\" />\r\n                    </div>\r\n                </template>\r\n            </Toolbar>\r\n\r\n            <DataTable :value=\"workunitWorktimes\" ref=\"dt\" dataKey=\"id\" responsiveLayout=\"scroll\">\r\n                <template #header>\r\n                    <div class=\"flex flex-column md:flex-row md:justify-content-between md:align-items-center\">\r\n                        <h5 class=\"m-0\">Detail Jam Kerja</h5>\r\n                    </div>\r\n                </template>\r\n                <Column field=\"id\" header=\"ID\" :sortable=\"true\">\r\n                    <template #body=\"slotProps\">\r\n                        <span class=\"p-column-title\">ID</span>\r\n                        {{slotProps.data.id}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"name\" header=\"Nama\"></Column>\r\n                <Column header=\"Aksi\">\r\n                    <template #body=\"slotProps\">\r\n                        <Button v-if=\"slotProps.data.id\" icon=\"pi pi-trash\" class=\"p-button-rounded p-button-warning mt-2\" @click=\"confirmDelete(slotProps.data)\" />\r\n                    </template>\r\n                </Column>\r\n            </DataTable>\r\n\r\n            <Dialog v-model:visible=\"workunitWorktimeDialog\" :style=\"{width: '450px'}\" header=\"Form Detail Jam Kerja\" :modal=\"true\" class=\"p-fluid\">\r\n                <div class=\"field\">\r\n                    <label for=\"name\">Jam Kerja</label>\r\n                    <Dropdown v-model=\"workunitWorktime.worktime_id\" :options=\"worktimes\" optionLabel=\"name\" optionValue=\"id\" placeholder=\"Pilih Jam Kerja\" :class=\"{'p-invalid': submitted && !workunitWorktime.worktime_id}\"   />\r\n                    <small class=\"p-invalid\" v-if=\"submitted && !workunitWorktime.worktime_id\">Jam kerja diperlukan.</small>\r\n                </div>\r\n                <template #footer>\r\n                    <Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"hideDialog\"/>\r\n                    <Button label=\"Save\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"saveWorktime\" />\r\n                </template>\r\n            </Dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport WorktimeService from '../../service/WorktimeService'\r\n\r\nexport default {\r\n    props:{\r\n        workunit:{},\r\n        workunitService:null,\r\n    },\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            worktimes: null,\r\n            workunitWorktimes: null,\r\n            workunitWorktime: {},\r\n            filters: {},\r\n            lazyParams: {},\r\n            columns: [\r\n                {field: 'id', header: 'ID'},\r\n                {field: 'name', header: 'Nama'},\r\n            ],\r\n            workunitWorktimeDialog: false,\r\n            submitted:false,\r\n        }\r\n    },\r\n    worktimeService: null,\r\n    created() {\r\n        this.worktimeService = new WorktimeService()\r\n        this.workunitWorktimes = this.workunit.worktimes\r\n    },\r\n    mounted(){\r\n        this.initData()\r\n    },\r\n    methods:{\r\n        initData(){\r\n            this.worktimeService.getAllWorktimes().then(d => {\r\n                this.worktimes = d\r\n            })\r\n        },\r\n        openNew() {\r\n\t\t\tthis.workunitWorktime = {};\r\n\t\t\tthis.submitted = false;\r\n\t\t\tthis.workunitWorktimeDialog = true;\r\n\t\t},\r\n        editPlace(workunitWorktime) {\r\n\t\t\tthis.workunitWorktime = {...workunitWorktime};\r\n\t\t\tthis.workunitWorktimeDialog = true;\r\n\t\t},\r\n        confirmDelete(workunitWorktime) {\r\n\t\t\tthis.workunitWorktime = workunitWorktime;\r\n\t\t\tthis.$swal({\r\n                title: 'Apakah anda yakin akan menghapus data ini ?',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Hapus',\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    this.workunitService.deleteWorktime(this.workunit, this.workunitWorktime)\r\n                    .then(data => {\r\n                        if('redirectTo' in data)\r\n                        {\r\n                            localStorage.removeItem('presence_app_token')\r\n                            localStorage.removeItem('presence_app_role')\r\n                            this.$router.push(data.redirectTo)\r\n                        }\r\n\r\n                        if(!data.success)\r\n                        {\r\n                            this.$swal({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: data.message,\r\n                            })\r\n                        }\r\n                        else\r\n                        {\r\n                            this.workunitWorktimes = this.workunitWorktimes.filter(val => val.id !== this.workunitWorktime.id);\r\n                            this.$swal({\r\n                                icon: 'success',\r\n                                title: 'Success',\r\n                                text: data.message\r\n                            })\r\n                            this.workunitWorktimeDialog = false;\r\n                            this.workunitWorktime = {};\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\t\t},\r\n        hideDialog() {\r\n\t\t\tthis.workunitWorktimeDialog = false;\r\n\t\t\tthis.submitted = false;\r\n\t\t},\r\n        saveWorktime() {\r\n\t\t\tthis.submitted = true;\r\n            this.workunitService.assignWorktime(this.workunit, this.workunitWorktime)\r\n            .then(data => {\r\n                if('redirectTo' in data)\r\n                {\r\n                    localStorage.removeItem('presence_app_token')\r\n                    localStorage.removeItem('presence_app_role')\r\n                    this.$router.push(data.redirectTo)\r\n                }\r\n\r\n                if(!data.success)\r\n                {\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: data.message,\r\n                    })\r\n                }\r\n                else\r\n                {\r\n                    this.$swal({\r\n                        icon: 'success',\r\n                        title: 'Success',\r\n                        text: data.message\r\n                    })\r\n                    var worktime = this.worktimes.find(w => w.id === this.workunitWorktime.worktime_id)\r\n                    this.workunitWorktimes = [{\r\n                        id: worktime.id,\r\n                        name: worktime.name,\r\n                    }]\r\n                    this.workunitWorktimeDialog = false;\r\n                    this.workunitWorktime = {};\r\n                }\r\n            })\r\n\t\t},\r\n        findIndexById(id) {\r\n\t\t\tlet index = -1;\r\n\t\t\tfor (let i = 0; i < this.workunitWorktimes.length; i++) {\r\n\t\t\t\tif (this.workunitWorktimes[i].id === id) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn index;\r\n\t\t}\r\n    }\r\n}\r\n</script>","import { render } from \"./DetailWorktime.vue?vue&type=template&id=4d55beaa\"\nimport script from \"./DetailWorktime.vue?vue&type=script&lang=js\"\nexport * from \"./DetailWorktime.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\DSI\\\\htd-presence-fe\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Detail.vue?vue&type=template&id=5d080496\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\DSI\\\\htd-presence-fe\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default class WorktimeService {\r\n\r\n\tgetWorktimes(lazyParams) {\r\n        // const queryParams = params ? Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&') : '';\r\n        \r\n        var params = 'page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n        var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n        params +='&order_by='+order_by\r\n        if(lazyParams.sortField != null)\r\n        {\r\n            params += '&sort_by='+lazyParams.sortField\r\n        }\r\n\r\n        if(lazyParams.filters.global.value)\r\n        {\r\n            params += '&keyword='+lazyParams.filters.global.value\r\n        }\r\n        \r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'worktimes?' + params,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getAllWorktimes(){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes?response=array',{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    createWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes',{\r\n            method:'POST',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    updateWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes/'+holiday.id,{\r\n            method:'PUT',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    deleteWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes/'+holiday.id,{\r\n            method:'DELETE',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\t\r\n}","export default class WorkunitService {\r\n\r\n\tgetWorkunits(lazyParams) {\r\n        // const queryParams = params ? Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&') : '';\r\n        \r\n        var params = ''\r\n        if(lazyParams){\r\n            params = '?page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n            var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n            params +='&order_by='+order_by\r\n            if(lazyParams.sortField != null)\r\n            {\r\n                params += '&sort_by='+lazyParams.sortField\r\n            }\r\n\r\n            if(lazyParams.filters.global.value)\r\n            {\r\n                params += '&keyword='+lazyParams.filters.global.value\r\n            }\r\n        }else{\r\n            params = \"?all=1&order_by=asc\"\r\n        }\r\n\r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'workunits' + params,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"Login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getWorkunit(id) {\r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'workunits/' + id,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getPresences(lazyParams, id = false, type = false) {\r\n\r\n        var params = ''\r\n        if(lazyParams){\r\n            params = 'page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n            var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n            params +='&order_by='+order_by\r\n            if(lazyParams.sortField != null)\r\n            {\r\n                params += '&sort_by='+lazyParams.sortField\r\n            }\r\n    \r\n            if(lazyParams.filters.global.value)\r\n            {\r\n                params += '&keyword='+lazyParams.filters.global.value\r\n            }\r\n\r\n            if(lazyParams.date_start != null && lazyParams.date_end != null)\r\n            {\r\n                params += '&date_start='+lazyParams.date_start+'&date_end='+lazyParams.date_end\r\n            }\r\n        }\r\n\r\n        if(type){\r\n            params += '&type='+type\r\n        }\r\n\r\n        var api_url = id ? process.env.VUE_APP_API_URL+'workunits/' + id + '/presences?'+params : process.env.VUE_APP_API_URL+'workunits/presences?'+params\r\n\r\n\t\treturn fetch(api_url,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    updateWorkunit(workunit){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/place',{\r\n            method:'PATCH',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                lat:workunit.lat,\r\n                lng:workunit.lng,\r\n                radius:workunit.radius,\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    assignWorktime(workunit, data){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/worktime',{\r\n            method:'PATCH',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                worktime_id:data.worktime_id\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    deleteWorktime(workunit, data){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/worktime',{\r\n            method:'DELETE',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                worktime_id:data.id\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\t\r\n}"],"sourceRoot":""}