{"version":3,"file":"js/605.0366008b.js","mappings":"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","sources":["webpack://sakai-vue/./src/service/WorktimeService.js","webpack://sakai-vue/./src/service/WorkunitService.js","webpack://sakai-vue/./src/pages/workunits/Detail.vue","webpack://sakai-vue/./src/pages/workunits/DetailWorktime.vue","webpack://sakai-vue/./src/pages/workunits/DetailWorktime.vue?a981","webpack://sakai-vue/./src/pages/workunits/Detail.vue?5969"],"sourcesContent":["export default class WorktimeService {\r\n\r\n\tgetWorktimes(lazyParams) {\r\n        // const queryParams = params ? Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&') : '';\r\n        \r\n        var params = 'page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n        var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n        params +='&order_by='+order_by\r\n        if(lazyParams.sortField != null)\r\n        {\r\n            params += '&sort_by='+lazyParams.sortField\r\n        }\r\n\r\n        if(lazyParams.filters.global.value)\r\n        {\r\n            params += '&keyword='+lazyParams.filters.global.value\r\n        }\r\n        \r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'worktimes?' + params,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getAllWorktimes(){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes?response=array',{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    createWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes',{\r\n            method:'POST',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    updateWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes/'+holiday.id,{\r\n            method:'PUT',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    deleteWorktime(holiday){\r\n        return fetch(process.env.VUE_APP_API_URL+'worktimes/'+holiday.id,{\r\n            method:'DELETE',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify(holiday)\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\t\r\n}","export default class WorkunitService {\r\n\r\n\tgetWorkunits(lazyParams) {\r\n        // const queryParams = params ? Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&') : '';\r\n        \r\n        var params = ''\r\n        if(lazyParams){\r\n            params = '?page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n            var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n            params +='&order_by='+order_by\r\n            if(lazyParams.sortField != null)\r\n            {\r\n                params += '&sort_by='+lazyParams.sortField\r\n            }\r\n\r\n            if(lazyParams.filters.global.value)\r\n            {\r\n                params += '&keyword='+lazyParams.filters.global.value\r\n            }\r\n        }else{\r\n            params = \"?all=1&order_by=asc\"\r\n        }\r\n\r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'workunits' + params,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"Login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getWorkunit(id) {\r\n\t\treturn fetch(process.env.VUE_APP_API_URL+'workunits/' + id,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    getPresences(lazyParams, id = false, type = false) {\r\n\r\n        var params = ''\r\n        if(lazyParams){\r\n            params = 'page='+(lazyParams.page+1)+'&per_page='+lazyParams.rows\r\n            var order_by = lazyParams.sortOrder == 1 ? 'asc' : 'desc';\r\n            params +='&order_by='+order_by\r\n            if(lazyParams.sortField != null)\r\n            {\r\n                params += '&sort_by='+lazyParams.sortField\r\n            }\r\n    \r\n            if(lazyParams.filters.global.value)\r\n            {\r\n                params += '&keyword='+lazyParams.filters.global.value\r\n            }\r\n\r\n            if(lazyParams.date_start != null && lazyParams.date_end != null)\r\n            {\r\n                params += '&date_start='+lazyParams.date_start+'&date_end='+lazyParams.date_end\r\n            }\r\n        }\r\n\r\n        if(type){\r\n            params += '&type='+type\r\n        }\r\n\r\n        var api_url = id ? process.env.VUE_APP_API_URL+'workunits/' + id + '/presences?'+params : process.env.VUE_APP_API_URL+'workunits/presences?'+params\r\n\r\n\t\treturn fetch(api_url,{\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token')\r\n            }\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {data:{redirectTo:\"login\"}};\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(d => d.data);\r\n    }\r\n\r\n    updateWorkunit(workunit){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/place',{\r\n            method:'PATCH',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                lat:workunit.lat,\r\n                lng:workunit.lng,\r\n                radius:workunit.radius,\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    assignWorktime(workunit, data){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/worktime',{\r\n            method:'PATCH',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                worktime_id:data.worktime_id\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\r\n    deleteWorktime(workunit, data){\r\n        return fetch(process.env.VUE_APP_API_URL+'workunits/'+workunit.id+'/worktime',{\r\n            method:'DELETE',\r\n            headers:{\r\n                'authorization' : 'Bearer '+localStorage.getItem('presence_app_token'),\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n            },\r\n            body:JSON.stringify({\r\n                worktime_id:data.id\r\n            })\r\n        })\r\n        .then(res => {\r\n            if(res.status == 401)\r\n            {\r\n                return {redirectTo:\"Login\"};\r\n            }\r\n            return res.json()\r\n        })\r\n    }\r\n\t\r\n}","<template>\r\n\t<div class=\"grid\">\r\n\t\t<div class=\"col-12\">\r\n\t\t\t<div class=\"card\">\r\n                <div class=\"font-medium text-3xl text-900 mb-3\">Detail OPD</div>\r\n                <ul class=\"list-none p-0 m-0\">\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Nama</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.name}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Latitude</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.lat}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Longitude</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.lng}}\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap\">\r\n                        <div class=\"text-500 w-6 md:w-2 font-medium\">Radius</div>\r\n                        <div class=\"text-900 w-full md:w-8 md:flex-order-0 flex-order-1\">\r\n                            {{workunit.radius}}\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <!--  Detail jam kerja -->\r\n        <DetailWorktime \r\n            v-if=\"Object.keys(workunit).length != 0\" \r\n            :workunit=\"workunit\" \r\n            :workunitService=\"workunitService\">\r\n        </DetailWorktime>\r\n        <!--  Rekapitulasi Absensi -->\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport WorkunitService from '../../service/WorkunitService'\r\nimport DetailWorktime from './DetailWorktime'\r\n\r\nexport default {\r\n    components:{\r\n        \"DetailWorktime\" : DetailWorktime,\r\n    },\r\n    data() {\r\n        return {\r\n            workunitId:null,\r\n            workunit:{},\r\n            submitted:false,\r\n        }\r\n    },\r\n    workunitService: null,\r\n    created() {\r\n        this.workunitId = this.$route.params.id\r\n        this.workunitService = new WorkunitService();\r\n    },\r\n    mounted(){\r\n        this.initData()\r\n    },\r\n    methods:{\r\n        initData(){\r\n            this.workunitService.getWorkunit(this.workunitId).then(d => {\r\n                this.workunit = d\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>","<template>\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <Toolbar class=\"mb-4\">\r\n                <template v-slot:start>\r\n                    <div class=\"my-2\">\r\n                        <Button label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"openNew\" />\r\n                    </div>\r\n                </template>\r\n            </Toolbar>\r\n\r\n            <DataTable :value=\"workunitWorktimes\" ref=\"dt\" dataKey=\"id\" responsiveLayout=\"scroll\">\r\n                <template #header>\r\n                    <div class=\"flex flex-column md:flex-row md:justify-content-between md:align-items-center\">\r\n                        <h5 class=\"m-0\">Detail Jam Kerja</h5>\r\n                    </div>\r\n                </template>\r\n                <Column field=\"id\" header=\"ID\" :sortable=\"true\">\r\n                    <template #body=\"slotProps\">\r\n                        <span class=\"p-column-title\">ID</span>\r\n                        {{slotProps.data.id}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"name\" header=\"Nama\"></Column>\r\n                <Column header=\"Aksi\">\r\n                    <template #body=\"slotProps\">\r\n                        <Button v-if=\"slotProps.data.id\" icon=\"pi pi-trash\" class=\"p-button-rounded p-button-warning mt-2\" @click=\"confirmDelete(slotProps.data)\" />\r\n                    </template>\r\n                </Column>\r\n            </DataTable>\r\n\r\n            <Dialog v-model:visible=\"workunitWorktimeDialog\" :style=\"{width: '450px'}\" header=\"Form Detail Jam Kerja\" :modal=\"true\" class=\"p-fluid\">\r\n                <div class=\"field\">\r\n                    <label for=\"name\">Jam Kerja</label>\r\n                    <Dropdown v-model=\"workunitWorktime.worktime_id\" :options=\"worktimes\" optionLabel=\"name\" optionValue=\"id\" placeholder=\"Pilih Jam Kerja\" :class=\"{'p-invalid': submitted && !workunitWorktime.worktime_id}\"   />\r\n                    <small class=\"p-invalid\" v-if=\"submitted && !workunitWorktime.worktime_id\">Jam kerja diperlukan.</small>\r\n                </div>\r\n                <template #footer>\r\n                    <Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"hideDialog\"/>\r\n                    <Button label=\"Save\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"saveWorktime\" />\r\n                </template>\r\n            </Dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport WorktimeService from '../../service/WorktimeService'\r\n\r\nexport default {\r\n    props:{\r\n        workunit:{},\r\n        workunitService:null,\r\n    },\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            worktimes: null,\r\n            workunitWorktimes: null,\r\n            workunitWorktime: {},\r\n            filters: {},\r\n            lazyParams: {},\r\n            columns: [\r\n                {field: 'id', header: 'ID'},\r\n                {field: 'name', header: 'Nama'},\r\n            ],\r\n            workunitWorktimeDialog: false,\r\n            submitted:false,\r\n        }\r\n    },\r\n    worktimeService: null,\r\n    created() {\r\n        this.worktimeService = new WorktimeService()\r\n        this.workunitWorktimes = this.workunit.worktimes\r\n    },\r\n    mounted(){\r\n        this.initData()\r\n    },\r\n    methods:{\r\n        initData(){\r\n            this.worktimeService.getAllWorktimes().then(d => {\r\n                this.worktimes = d\r\n            })\r\n        },\r\n        openNew() {\r\n\t\t\tthis.workunitWorktime = {};\r\n\t\t\tthis.submitted = false;\r\n\t\t\tthis.workunitWorktimeDialog = true;\r\n\t\t},\r\n        editPlace(workunitWorktime) {\r\n\t\t\tthis.workunitWorktime = {...workunitWorktime};\r\n\t\t\tthis.workunitWorktimeDialog = true;\r\n\t\t},\r\n        confirmDelete(workunitWorktime) {\r\n\t\t\tthis.workunitWorktime = workunitWorktime;\r\n\t\t\tthis.$swal({\r\n                title: 'Apakah anda yakin akan menghapus data ini ?',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Hapus',\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    this.workunitService.deleteWorktime(this.workunit, this.workunitWorktime)\r\n                    .then(data => {\r\n                        if('redirectTo' in data)\r\n                        {\r\n                            localStorage.removeItem('presence_app_token')\r\n                            localStorage.removeItem('presence_app_role')\r\n                            this.$router.push(data.redirectTo)\r\n                        }\r\n\r\n                        if(!data.success)\r\n                        {\r\n                            this.$swal({\r\n                                icon: 'error',\r\n                                title: 'Oops...',\r\n                                text: data.message,\r\n                            })\r\n                        }\r\n                        else\r\n                        {\r\n                            this.workunitWorktimes = this.workunitWorktimes.filter(val => val.id !== this.workunitWorktime.id);\r\n                            this.$swal({\r\n                                icon: 'success',\r\n                                title: 'Success',\r\n                                text: data.message\r\n                            })\r\n                            this.workunitWorktimeDialog = false;\r\n                            this.workunitWorktime = {};\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\t\t},\r\n        hideDialog() {\r\n\t\t\tthis.workunitWorktimeDialog = false;\r\n\t\t\tthis.submitted = false;\r\n\t\t},\r\n        saveWorktime() {\r\n\t\t\tthis.submitted = true;\r\n            this.workunitService.assignWorktime(this.workunit, this.workunitWorktime)\r\n            .then(data => {\r\n                if('redirectTo' in data)\r\n                {\r\n                    localStorage.removeItem('presence_app_token')\r\n                    localStorage.removeItem('presence_app_role')\r\n                    this.$router.push(data.redirectTo)\r\n                }\r\n\r\n                if(!data.success)\r\n                {\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: data.message,\r\n                    })\r\n                }\r\n                else\r\n                {\r\n                    this.$swal({\r\n                        icon: 'success',\r\n                        title: 'Success',\r\n                        text: data.message\r\n                    })\r\n                    var worktime = this.worktimes.find(w => w.id === this.workunitWorktime.worktime_id)\r\n                    this.workunitWorktimes = [{\r\n                        id: worktime.id,\r\n                        name: worktime.name,\r\n                    }]\r\n                    this.workunitWorktimeDialog = false;\r\n                    this.workunitWorktime = {};\r\n                }\r\n            })\r\n\t\t},\r\n        findIndexById(id) {\r\n\t\t\tlet index = -1;\r\n\t\t\tfor (let i = 0; i < this.workunitWorktimes.length; i++) {\r\n\t\t\t\tif (this.workunitWorktimes[i].id === id) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn index;\r\n\t\t}\r\n    }\r\n}\r\n</script>","import { render } from \"./DetailWorktime.vue?vue&type=template&id=4d55beaa\"\nimport script from \"./DetailWorktime.vue?vue&type=script&lang=js\"\nexport * from \"./DetailWorktime.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Detail.vue?vue&type=template&id=5d080496\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["WorktimeService","getWorktimes","lazyParams","params","page","rows","order_by","sortOrder","sortField","filters","global","value","fetch","process","headers","localStorage","getItem","then","res","status","data","redirectTo","json","d","getAllWorktimes","createWorktime","holiday","method","body","JSON","stringify","updateWorktime","id","deleteWorktime","WorkunitService","getWorkunits","getWorkunit","getPresences","type","date_start","date_end","api_url","updateWorkunit","workunit","lat","lng","radius","assignWorktime","worktime_id","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$data","name","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","Object","keys","length","_createBlock","_component_DetailWorktime","workunitService","_ctx","for","_createVNode","_component_Toolbar","start","_withCtx","_component_Button","label","icon","onClick","$options","openNew","_component_DataTable","workunitWorktimes","ref","dataKey","responsiveLayout","header","_component_Column","field","sortable","slotProps","$event","confirmDelete","_component_Dialog","visible","workunitWorktimeDialog","style","width","modal","footer","hideDialog","saveWorktime","_component_Dropdown","workunitWorktime","options","worktimes","optionLabel","optionValue","placeholder","_normalizeClass","submitted","props","loading","columns","worktimeService","created","this","mounted","initData","methods","editPlace","$swal","title","showCancelButton","confirmButtonText","result","isConfirmed","removeItem","$router","push","success","filter","val","text","message","worktime","find","w","findIndexById","index","i","__exports__","components","DetailWorktime","workunitId","$route","render"],"sourceRoot":""}