(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfd2adfc"],{"06d6":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("5530"),n=r("d4ec"),o=r("bee2"),s=(r("d3b7"),r("e9c4"),function(){function e(){Object(n["a"])(this,e)}return Object(o["a"])(e,[{key:"getEmployees",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";r+="&order_by="+a,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value)}var n=JSON.parse(localStorage.getItem("presence_user_data"));return n.workunit_id&&(r+="&workunit_id="+n.workunit_id),t&&(r+="&workunit_id="+t),fetch("https://sisapa.tanjungbalaikota.go.id/api/employees?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReport",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";r+="&order_by="+a,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/reports/"+t+"?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReportDetail",value:function(e,t){var r="";if(e){r="page="+(e.page+1)+"&per_page="+e.rows;var a=1==e.sortOrder?"asc":"desc";r+="&order_by="+a,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/report-details/"+t+"?"+r,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getEmployeesReportPdfLink",value:function(e,t){var r="";if(e){var a=1==e.sortOrder?"asc":"desc";r+="&order_by="+a,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"https://sisapa.tanjungbalaikota.go.id/api/employees/report-pdf/"+t+"?"+r}},{key:"getEmployeesReportDetailPdfLink",value:function(e,t){var r="";if(e){var a=1==e.sortOrder?"asc":"desc";r+="&order_by="+a,null!=e.sortField&&(r+="&sort_by="+e.sortField),e.filters.global.value&&(r+="&keyword="+e.filters.global.value),null!=e.date_start&&null!=e.date_end&&(r+="&date_start="+e.date_start+"&date_end="+e.date_end)}return"https://sisapa.tanjungbalaikota.go.id/api/employees/report-detail-pdf/"+t+"?"+r}},{key:"getEmployee",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"getPresence",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e+"/presences/"+t,{headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")}}).then((function(e){return 401==e.status?{data:{redirectTo:"login"}}:e.json()})).then((function(e){return e.data}))}},{key:"updateEmployee",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({lat:e.lat,lng:e.lng,radius:e.radius})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"updateRole",value:function(e,t){var r=Object(a["a"])({},e);return r.role=t,fetch("https://sisapa.tanjungbalaikota.go.id/api/users/"+e.id,{method:"PUT",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"addPlace",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/place",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"deletePlace",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/place",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({place_id:t.id})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"patchPlace",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/place",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"patchAndroid",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/android-user",{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"resetDevice",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/reset-device",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"resetPassword",value:function(e){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/reset-password",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"addWorktime",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/worktime",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"deleteWorktime",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e.id+"/worktime",{method:"DELETE",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({worktime_id:t.id,date_start:t.pivot.date_start,date_end:t.pivot.date_end})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"actionPresence",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+t.employee_id+"/presences/"+t.id,{method:"PATCH",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({status:e})}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}},{key:"insertPresence",value:function(e,t){return fetch("https://sisapa.tanjungbalaikota.go.id/api/employees/"+e+"/presences",{method:"POST",headers:{authorization:"Bearer "+localStorage.getItem("presence_app_token")},body:t}).then((function(e){return 401==e.status?{redirectTo:"Login"}:e.json()}))}}]),e}())},2404:function(e,t,r){"use strict";r.r(t);r("caad"),r("2532"),r("b0c0");var a=r("7a23"),n={class:"grid"},o={class:"col-12"},s={class:"card"},i={class:"flex justify-content-between mb-3 align-items-center"},c={class:"font-medium text-3xl text-900"},l={key:0,class:"list-none p-0 m-0"},d={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},p=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Pegawai",-1),u={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},f={key:0,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},b=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Jadwal",-1),j={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},g={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},m=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"OPD",-1),h={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},y={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},O=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Tipe",-1),w={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},_={key:1,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},k=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Di lokasi",-1),v={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},x={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},T=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Status",-1),S={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},P={key:2,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},z=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Waktu Mulai",-1),L={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},I={key:3,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},F=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Waktu Selesai",-1),B={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},C={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},D=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Tanggal",-1),E={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},U={key:4,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},J=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Selfi",-1),A={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},N=["src"],H={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},R=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Lampiran",-1),$={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},W=["href"],Y={key:5,class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},q=Object(a["j"])("div",{class:"text-500 w-6 md:w-2 font-medium"},"Lokasi",-1),M={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},G=["src"];function K(e,t,r,K,Q,V){var X,Z=Object(a["H"])("Button");return Object(a["z"])(),Object(a["i"])("div",n,[Object(a["j"])("div",o,[Object(a["j"])("div",s,[Object(a["j"])("div",i,[Object(a["j"])("div",c,"Detail "+Object(a["L"])(Q.presence.presence_id?"Absensi":Q.presence.type.includes("tugas")?Q.presence.type:"Cuti"),1),Object(a["j"])("div",null,["diajukan"==Q.presence.status?(Object(a["z"])(),Object(a["g"])(Z,{key:0,icon:"pi pi-check",class:"p-button-rounded p-button-success mr-2",onClick:t[0]||(t[0]=function(e){return V.action("setujui",Q.presence)})})):Object(a["h"])("",!0),"diajukan"==Q.presence.status?(Object(a["z"])(),Object(a["g"])(Z,{key:1,icon:"pi pi-times",class:"p-button-rounded p-button-danger mr-2",onClick:t[1]||(t[1]=function(e){return V.action("tolak",Q.presence)})})):Object(a["h"])("",!0)])]),Q.presence.employee?(Object(a["z"])(),Object(a["i"])("ul",l,[Object(a["j"])("li",d,[p,Object(a["j"])("div",u,Object(a["L"])(Q.presence.employee.nip+" - "+Q.presence.employee.name),1)]),Q.presence.presence_id?(Object(a["z"])(),Object(a["i"])("li",f,[b,Object(a["j"])("div",j,Object(a["L"])(null===(X=Q.presence.worktime_item)||void 0===X?void 0:X.name),1)])):Object(a["h"])("",!0),Object(a["j"])("li",g,[m,Object(a["j"])("div",h,Object(a["L"])(Q.presence.workunit.name),1)]),Object(a["j"])("li",y,[O,Object(a["j"])("div",w,Object(a["L"])(Q.presence.type),1)]),Q.presence.presence_id?(Object(a["z"])(),Object(a["i"])("li",_,[k,Object(a["j"])("div",v,Object(a["L"])(1==Q.presence.in_location?"Ya":"Tidak"),1)])):Object(a["h"])("",!0),Object(a["j"])("li",x,[T,Object(a["j"])("div",S,Object(a["L"])(Q.presence.status),1)]),null==Q.presence.presence_id||"tugas luar"==Q.presence.type?(Object(a["z"])(),Object(a["i"])("li",P,[z,Object(a["j"])("div",L,Object(a["L"])(Q.presence.started_at),1)])):Object(a["h"])("",!0),null==Q.presence.presence_id||"tugas luar"==Q.presence.type?(Object(a["z"])(),Object(a["i"])("li",I,[F,Object(a["j"])("div",B,Object(a["L"])(Q.presence.finished_at),1)])):Object(a["h"])("",!0),Object(a["j"])("li",C,[D,Object(a["j"])("div",E,Object(a["L"])(Q.presence.created_at),1)]),Q.presence.presence_id?(Object(a["z"])(),Object(a["i"])("li",U,[J,Object(a["j"])("div",A,[Q.presence.pic_url?(Object(a["z"])(),Object(a["i"])("img",{key:0,src:Q.storage_url+Q.presence.pic_url,style:{width:"250px"}},null,8,N)):Object(a["h"])("",!0)])])):Object(a["h"])("",!0),Object(a["j"])("li",H,[R,Object(a["j"])("div",$,[Q.presence.attachment_url?(Object(a["z"])(),Object(a["i"])("a",{key:0,href:Q.storage_url+Q.presence.attachment_url,target:"_blank"},"Download",8,W)):Object(a["h"])("",!0)])]),Q.presence.presence_id?(Object(a["z"])(),Object(a["i"])("li",Y,[q,Object(a["j"])("div",M,[Object(a["j"])("iframe",{width:"500",height:"300",src:"//maps.google.com/maps?q="+Q.presence.lat+","+Q.presence.lng+"&z=15&output=embed",allowfullscreen:"",style:{border:"0"},referrerpolicy:"no-referrer-when-downgrade"},null,8,G)])])):Object(a["h"])("",!0)])):Object(a["h"])("",!0)])])])}var Q=r("06d6"),V={data:function(){return{employeeId:null,presenceId:null,presence:{},submitted:!1,storage_url:"https://sisapa.tanjungbalaikota.go.id/storage/"}},employeeService:null,created:function(){this.presenceId=this.$route.params.id,this.employeeId=this.$route.params.employee_id,this.employeeService=new Q["a"],this.initData()},methods:{initData:function(){var e=this;this.employeeService.getPresence(this.employeeId,this.presenceId).then((function(t){e.presence=t,console.log(t)}))},action:function(e,t){var r=this;this.$swal({title:"Apakah anda yakin akan "+e+" data ini ?",showCancelButton:!0,confirmButtonText:"Ya"}).then((function(a){a.isConfirmed&&r.employeeService.actionPresence("di"+e,t).then((function(e){e.success?(r.$swal({icon:"success",title:"Success",text:e.message}),r.initData()):r.$swal({icon:"error",title:"Oops...",text:e.message})}))}))}}},X=r("6b0d"),Z=r.n(X);const ee=Z()(V,[["render",K]]);t["default"]=ee},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,o=r("1dde"),s=o("filter");a({target:"Array",proto:!0,forced:!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),o=r("56ef"),s=r("fc6a"),i=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=s(e),n=i.f,l=o(a),d={},p=0;while(l.length>p)r=n(a,t=l[p++]),void 0!==r&&c(d,t,r);return d}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),o=r("fc6a"),s=r("06cf").f,i=r("83ab"),c=n((function(){s(1)})),l=!i||c;a({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})}}]);
//# sourceMappingURL=chunk-bfd2adfc.2f8ba571.js.map